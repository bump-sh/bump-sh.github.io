I"ñ<ul id="markdown-toc">
  <li><a href="#integrate-with-your-ci" id="markdown-toc-integrate-with-your-ci">Integrate with your CI</a></li>
  <li><a href="#1-api-diff--validation-of-the-documentation-file" id="markdown-toc-1-api-diff--validation-of-the-documentation-file">1. API diff &amp; validation of the documentation file</a>    <ul>
      <li><a href="#api-diff-for-each-proposed-change-request" id="markdown-toc-api-diff-for-each-proposed-change-request">API diff for each proposed change request</a></li>
      <li><a href="#plain-validation" id="markdown-toc-plain-validation">Plain validation</a></li>
    </ul>
  </li>
  <li><a href="#2-deploy-your-doc" id="markdown-toc-2-deploy-your-doc">2. Deploy your doc</a></li>
  <li><a href="#add-our-cli-tool-to-your-project" id="markdown-toc-add-our-cli-tool-to-your-project">Add our CLI tool to your project</a></li>
  <li><a href="#examples" id="markdown-toc-examples">Examples</a></li>
</ul>

<p>How to integrate your documentation deployment to your CI.</p>

<h2 id="integrate-with-your-ci">Integrate with your CI</h2>

<p>Here, we are presenting the process recommended to our customers, but feel free to adapt it to your own workflow/requirements.</p>

<p>We recommend two steps in your automation flow: a <strong>validation</strong> one during development, followed by a <strong>deployment</strong> one on production merges.</p>

<h2 id="1-api-diff--validation-of-the-documentation-file">1. API diff &amp; validation of the documentation file</h2>

<h3 id="api-diff-for-each-proposed-change-request">API diff for each proposed change request</h3>

<p>With our <a href="github-actions">Github Action</a>, you can receive automatic API diff comments directly on your pull requests. This is done thanks to the <code class="highlighter-rouge">bump diff</code> command under the hood which will run each time a pull request is created or updated. It will make sure to fail the build if the documentation file is not valid.</p>

<h3 id="plain-validation">Plain validation</h3>

<p>If you donâ€™t use Github, for each branch of your code base you can check that your documentation file is still valid and will not fail during deployment. By using the <code class="highlighter-rouge">bump deploy --dry-run</code>  command each time a branch is pushed you will make sure to fail the build if the documentation file is not valid. You can also use the <code class="highlighter-rouge">bump diff</code> command to validate your documentation file and to output the API diff in your CI logs.</p>

<h2 id="2-deploy-your-doc">2. Deploy your doc</h2>

<p>Once your branch has been merged into your main branch (generally the <code class="highlighter-rouge">master</code> or <code class="highlighter-rouge">main</code> one) you will want to deploy your new documentation file and make it live. You will use the <code class="highlighter-rouge">bump deploy</code> command.</p>

<h2 id="add-our-cli-tool-to-your-project">Add our CLI tool to your project</h2>

<p>The simplest way to use our CLI tool is to add a <code class="highlighter-rouge">package.json</code> file to your project. You can find an example here: <a href="https://github.com/bump-sh/bump-ci-example/blob/master/package.json">https://github.com/bump-sh/bump-ci-example/blob/master/package.json</a>.</p>

<p>If you prefer not using a <code class="highlighter-rouge">package.json</code>, be sure to install the CLI globally with <code class="highlighter-rouge">npm install -g bump-cli</code> before calling the <code class="highlighter-rouge">bump</code>  command.</p>

<h2 id="examples">Examples</h2>

<p>Here are examples for integrating Bump with the most commonly used CI products:</p>

<ul>
  <li>CircleCI : <a href="https://github.com/bump-sh/bump-ci-example/blob/master/.circleci/config.yml">https://github.com/bump-sh/bump-ci-example/blob/master/.circleci/config.yml</a></li>
  <li>Gitlab CI: <a href="https://github.com/bump-sh/bump-ci-example/blob/master/.gitlab-ci.yml">https://github.com/bump-sh/bump-ci-example/blob/master/.gitlab-ci.yml </a></li>
  <li>Travis CI: <a href="https://github.com/bump-sh/bump-ci-example/blob/master/.travis.yml"> https://github.com/bump-sh/bump-ci-example/blob/master/.travis.yml</a></li>
  <li>GitHub Action: <a href="https://github.com/bump-sh/github-action">https://github.com/bump-sh/github-action</a></li>
</ul>

<p>The GitHub action example uses a dedicated action we crafted especially for you. You may find more information on our <a href="https://github.com/marketplace/actions/api-documentation-on-bump">GitHub market place</a> page.</p>

<p>Note that if you donâ€™t want to keep the private token and id in your code base, you should use environment variables. Our CLI automatically recognizes these 3 variables:</p>

<ul>
  <li><code class="highlighter-rouge">BUMP_ID</code>: your documentation public slug or id</li>
  <li><code class="highlighter-rouge">BUMP_TOKEN</code>: your documentation private token</li>
  <li><code class="highlighter-rouge">BUMP_HUB_ID</code>: if <a href="../hubs">using hubs</a>, your hub public slug or id</li>
</ul>

:ET