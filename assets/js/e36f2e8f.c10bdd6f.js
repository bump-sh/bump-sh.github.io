"use strict";(self.webpackChunkbump_sh_github_io=self.webpackChunkbump_sh_github_io||[]).push([[8803],{3905:(e,t,o)=>{o.d(t,{Zo:()=>c,kt:()=>h});var n=o(7294);function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function r(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach((function(t){i(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function l(e,t){if(null==e)return{};var o,n,i=function(e,t){if(null==e)return{};var o,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||(i[o]=e[o]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}var u=n.createContext({}),p=function(e){var t=n.useContext(u),o=t;return e&&(o="function"==typeof e?e(t):r(r({},t),e)),o},c=function(e){var t=p(e.components);return n.createElement(u.Provider,{value:t},e.children)},m="mdxType",s={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var o=e.components,i=e.mdxType,a=e.originalType,u=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),m=p(o),d=i,h=m["".concat(u,".").concat(d)]||m[d]||s[d]||a;return o?n.createElement(h,r(r({ref:t},c),{},{components:o})):n.createElement(h,r({ref:t},c))}));function h(e,t){var o=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=o.length,r=new Array(a);r[0]=d;var l={};for(var u in t)hasOwnProperty.call(t,u)&&(l[u]=t[u]);l.originalType=e,l[m]="string"==typeof e?e:i,r[1]=l;for(var p=2;p<a;p++)r[p]=o[p];return n.createElement.apply(null,r)}return n.createElement.apply(null,o)}d.displayName="MDXCreateElement"},1550:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>u,contentTitle:()=>r,default:()=>m,frontMatter:()=>a,metadata:()=>l,toc:()=>p});var n=o(7462),i=(o(7294),o(3905));const a={},r="Continuous integration",l={unversionedId:"continuous-integration/index",id:"continuous-integration/index",title:"Continuous integration",description:"How to integrate your documentation deployment to your CI.",source:"@site/docs/help/continuous-integration/index.md",sourceDirName:"continuous-integration",slug:"/continuous-integration/",permalink:"/help/continuous-integration/",draft:!1,editUrl:"https://github.com/bump-sh/docs/tree/main/docs/help/continuous-integration/index.md",tags:[],version:"current",frontMatter:{},sidebar:"help",previous:{title:"Bump CLI",permalink:"/help/bump-cli"},next:{title:"GitHub Action",permalink:"/help/continuous-integration/github-actions"}},u={},p=[{value:"Integrate with your CI",id:"integrate-with-your-ci",level:2},{value:"1. API diff &amp; validation of the documentation file",id:"1-api-diff--validation-of-the-documentation-file",level:2},{value:"API diff for each proposed change request",id:"api-diff-for-each-proposed-change-request",level:3},{value:"Plain validation",id:"plain-validation",level:3},{value:"2. Deploy your doc",id:"2-deploy-your-doc",level:2},{value:"Add our CLI tool to your project",id:"add-our-cli-tool-to-your-project",level:2},{value:"Examples",id:"examples",level:2}],c={toc:p};function m(e){let{components:t,...o}=e;return(0,i.kt)("wrapper",(0,n.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"continuous-integration"},"Continuous integration"),(0,i.kt)("p",null,"How to integrate your documentation deployment to your CI."),(0,i.kt)("h2",{id:"integrate-with-your-ci"},"Integrate with your CI"),(0,i.kt)("p",null,"Here, we are presenting the process recommended to our customers, but feel free to adapt it to your own workflow/requirements."),(0,i.kt)("p",null,"We recommend two steps in your automation flow: a ",(0,i.kt)("strong",{parentName:"p"},"validation")," one during development, followed by a ",(0,i.kt)("strong",{parentName:"p"},"deployment")," one on production merges."),(0,i.kt)("h2",{id:"1-api-diff--validation-of-the-documentation-file"},"1. API diff & validation of the documentation file"),(0,i.kt)("h3",{id:"api-diff-for-each-proposed-change-request"},"API diff for each proposed change request"),(0,i.kt)("p",null,"With our ",(0,i.kt)("a",{parentName:"p",href:"/help/continuous-integration/github-actions"},"Github Action"),", you can receive automatic API diff comments directly on your pull requests. This is done thanks to the ",(0,i.kt)("inlineCode",{parentName:"p"},"bump diff")," command under the hood which will run each time a pull request is created or updated. It will make sure to fail the build if the documentation file is not valid."),(0,i.kt)("h3",{id:"plain-validation"},"Plain validation"),(0,i.kt)("p",null,"If you don't use Github, for each branch of your code base you can check that your documentation file is still valid and will not fail during deployment. By using the ",(0,i.kt)("inlineCode",{parentName:"p"},"bump deploy --dry-run"),"  command each time a branch is pushed you will make sure to fail the build if the documentation file is not valid. You can also use the ",(0,i.kt)("inlineCode",{parentName:"p"},"bump diff")," command to validate your documentation file and to output the API diff in your CI logs."),(0,i.kt)("h2",{id:"2-deploy-your-doc"},"2. Deploy your doc"),(0,i.kt)("p",null,"Once your branch has been merged into your main branch (generally the ",(0,i.kt)("inlineCode",{parentName:"p"},"master")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"main")," one) you will want to deploy your new documentation file and make it live. You will use the ",(0,i.kt)("inlineCode",{parentName:"p"},"bump deploy")," command."),(0,i.kt)("h2",{id:"add-our-cli-tool-to-your-project"},"Add our CLI tool to your project"),(0,i.kt)("p",null,"The simplest way to use our CLI tool is to add a ",(0,i.kt)("inlineCode",{parentName:"p"},"package.json")," file to your project. You can find an example here: ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/bump-sh/bump-ci-example/blob/master/package.json"},"https://github.com/bump-sh/bump-ci-example/blob/master/package.json"),"."),(0,i.kt)("p",null,"If you prefer not using a ",(0,i.kt)("inlineCode",{parentName:"p"},"package.json"),", be sure to install the CLI globally with ",(0,i.kt)("inlineCode",{parentName:"p"},"npm install -g bump-cli")," before calling the ",(0,i.kt)("inlineCode",{parentName:"p"},"bump"),"  command."),(0,i.kt)("h2",{id:"examples"},"Examples"),(0,i.kt)("p",null,"Here are examples for integrating Bump with the most commonly used CI products:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"CircleCI : ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/bump-sh/bump-ci-example/blob/master/.circleci/config.yml"},"https://github.com/bump-sh/bump-ci-example/blob/master/.circleci/config.yml")),(0,i.kt)("li",{parentName:"ul"},"Gitlab CI: ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/bump-sh/bump-ci-example/blob/master/.gitlab-ci.yml"},"https://github.com/bump-sh/bump-ci-example/blob/master/.gitlab-ci.yml ")),(0,i.kt)("li",{parentName:"ul"},"Travis CI: ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/bump-sh/bump-ci-example/blob/master/.travis.yml"}," https://github.com/bump-sh/bump-ci-example/blob/master/.travis.yml")),(0,i.kt)("li",{parentName:"ul"},"GitHub Action: ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/bump-sh/github-action"},"https://github.com/bump-sh/github-action"))),(0,i.kt)("p",null,"The GitHub action example uses a dedicated action we crafted especially for you. You may find more information on our ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/marketplace/actions/api-documentation-on-bump"},"GitHub market place")," page."),(0,i.kt)("p",null,"Note that if you don't want to keep the private token and id in your code base, you should use environment variables. Our CLI automatically recognizes these 3 variables:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"BUMP_ID"),": your documentation public slug or id"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"BUMP_TOKEN"),": your documentation private token"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"BUMP_HUB_ID"),": if ",(0,i.kt)("a",{parentName:"li",href:"https://help.bump.sh/hubs"},"using hubs"),", your hub public slug or id")))}m.isMDXComponent=!0}}]);